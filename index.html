<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROCK, PAPER AND SCISSORS</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <h1>ROCK, PAPER & SCISSORS GAME</h1>
        <div class="userframe">
            <h2>User score</h2>
            <p id="userscore"><sub>0</sub></p>
        </div>
        <div class="computerframe">
            <h2>Computer Score</h2>
            <p id="computerscore"><sub>0</sub></p>
        </div>
        <div id="game">Pick a game</div>
        <span id = span>Trials: <b style="color: magenta;">0</b></span>
        <div id="gameover">GamesOver</div>
        <!-- buttons for the game -->
        <div class="options" id="option">
            <button type="button" id="rock">ROCK </button>
            <button type="button" id="scissors">PAPER</button>
            <button type="button" id="paper">SCISSORS</button>
        </div>
        <!-- Result scoreboard -->
        <div id="result"></div>
        <!-- Restart game -->
        <input type="button" id="btn" value="RELOAD"></input>
        <footer>
            <p id="animate">Built by RAYMOND OGARAGA &copy; copyrights 2023</p>
        </footer>
    </div>
    <script>
        let uScore = 0;
        let cScore = 0; 
        let Trials = 0;
        let uSum;
        let cSum;
        const attempts = document.getElementById("span");  
        const gameover = document.getElementById("gameover");
        const buttons = document.getElementById("option");
        const Reload = document.getElementById("btn");           
        const computerScore = document.getElementById("computerscore");
        const userScore = document.getElementById("userscore");
        const availOptions = document.querySelectorAll(".options");
        const Result = document.getElementById("result");
        
        let userChoice;
        let comChoice;
        
        availOptions.forEach(availOption =>{
            availOption.addEventListener("click",(e)=>{
                userChoice = e.target.id;
                Result.innerHTML = userChoice;
                GenerateNumber();
                
                ResultScore(); 
               
            
            });  
                
    });
    
            function GenerateNumber(){
                let randno = Math.ceil(Math.random() * 3);
                if(randno === 1){
                comChoice = "paper";
                }
                if(randno === 2){
                comChoice = "scissors";
                }
                if(randno === 3){
                comChoice = "rock";
                }
                Result.innerHTML = comChoice;
    
            }
            
            function ResultScore() {
                uSum = Trials - uScore;
                cSum = Trials - cScore;
                switch(userChoice + comChoice){
                    case "rockrock":
                    case "paperpaper":
                    case "scissorsscissors":
                    cScore++;
                    uScore++;
                    Trials++;
                    attempts.innerHTML = `Trials: ${Trials}`;
                    userScore.innerHTML = uScore;
                    computerScore.innerHTML = cScore;
                    Result.innerHTML = "it's a tie: same game!";
                    Result.style.color = "grey";
                    break;
        
                    case "rockpaper":
                    case "paperscissors":
                    case "scissorsrock":
                    uScore = uScore + 2;
                    cScore--;
                    Trials++;
                    attempts.innerHTML = `Trials: ${Trials}`;
                    userScore.innerHTML = uScore;
                    computerScore.innerHTML = cScore;
                    Result.innerHTML = "You win:";
                    Result.style.color = "green";
                    break;
                
                    case "paperrock":
                    case "scissorspaper":
                    case "rockscissors":
                    cScore = cScore + 2;
                    uScore--;
                    Trials++;
                    attempts.innerHTML = `Trials: ${Trials}`;
                    computerScore.innerHTML = cScore;
                    userScore.innerHTML = uScore;
                    Result.innerHTML = "You lose";
                    Result.style.color = "red";
                    break;
                    
               };
        
           
            };  
            
            let reloadgame = document.getElementById("btn");
            let mypick = document.getElementById("game");
            let animate = document.getElementById("animate");
            buttons.onclick = ()=>{
              if(attempts.innerText === "Trials: 100" && `${userScore.innerText}` >= "60"){
                animate.style.color = "black";
                animate.style.display = "none";
                attempts.innerText = `Trials:${Trials = 0}`;
                attempts.style.display = "block";
                buttons.style.display = "none";
                mypick.style.display = "block";
                reloadgame.style.display = "block";
                Result.innerHTML = "Game Has Ended and Congratulations, You won!";
                Result.style.color = "green";
                userScore.innerText = `${uScore = 0}`;
                computerScore.innerText = `${cScore = 0}`;
            }
            else if(attempts.innerText === "Trials: 100" && `${computerScore.innerText}` >= "60"){
                animate.style.color = "black";
                buttons.style.display = "none";
                animate.style.display = "none";
                attempts.innerText = `Trials:${Trials = 0}`;
                attempts.style.display = "block";
                mypick.style.display = "block";
                reloadgame.style.display = "block";
                Result.innerHTML = "Game Has Ended and Sorry, You lost try again!";
                Result.style.color = "red";
                userScore.innerText = `${uScore = 0}`;
                computerScore.innerText = `${cScore = 0}`;
                 }
            else{
                reloadgame.style.display = "none";
                animate.style.color = "inherit";
                animate.style.display = "none";
                attempts.innerText = `Trials:${Trials}`;
                attempts.style.display = "block";
                mypick.style.display = "block";
                buttons.style.display = "block";
                userScore.innerText = `${uScore += 0}`;
                computerScore.innerText = `${cScore += 0}`;
             }
            }
        reloadgame.onclick = ()=>{
                animate.style.color = "black";
                animate.style.display = "block";
                attempts.innerText = `Trials:${Trials}`;
                attempts.style.display = "none";
                mypick.style.display = "none";
                reloadgame.style.display = "none";
                Result.innerHTML = "New game Resumed!";
                Result.style.color = "inherit";
                userScore.innerText = 0;
                computerScore.innerText = 0;
                buttons.style.display = "block";
                }
        
            
      
         
    </script>
</body>
</html>